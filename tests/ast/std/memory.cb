code_unit{
  std/memory.cb
  decl_list{
    import_decl{
      identifier{"std::libc::stdlib"}}
    func_decl{
      identifier{"alloc"}
      arg_list(
        var_decl{
          identifier{"size"}
          :type_expr{
            identifier{"usize"}}})
      :type_expr{
        identifier{"raw_ptr"}}
compound_stmt{
        stmt_list{
          return_stmt{
                        call_expr{
              identifier{"malloc"}
              arg_list(
                identifier{"size"})}}}}}
    func_decl{
      identifier{"dealloc"}
      arg_list(
        var_decl{
          identifier{"ptr"}
          :type_expr{
            identifier{"raw_ptr"}}})
compound_stmt{
        stmt_list{
          call_expr{
            identifier{"free"}
            arg_list(
              identifier{"ptr"})}}}}
    func_decl{
      identifier{"copy"}
      arg_list(
        var_decl{
          identifier{"dest"}
          :type_expr{
            identifier{"raw_ptr"}}}
        var_decl{
          identifier{"src"}
          :type_expr{
            identifier{"raw_ptr"}}}
        var_decl{
          identifier{"size"}
          :type_expr{
            identifier{"usize"}}})
compound_stmt{
        decl_list{
          asm_stmt{
            push rdi
push rsi

mov rdi,rcx
mov rsi,rdx
mov rcx,r8
rep movsb

pop rsi
pop rdi
    }}}}
    func_decl{
      identifier{"set"}
      arg_list(
        var_decl{
          identifier{"dest"}
          :type_expr{
            identifier{"raw_ptr"}}}
        var_decl{
          identifier{"value"}
          :type_expr{
            identifier{"char"}}}
        var_decl{
          identifier{"count"}
          :type_expr{
            identifier{"usize"}}})
compound_stmt{
        decl_list{
          asm_stmt{
            push rdi

mov rdi,rcx
mov rax,rdx
mov rcx,r8
rep stosb

pop rdi
    }}}}}}
