import std::io
import std::string
import std::rawstring
import std::mem
import std::runtime::windows

private {

extern(C) func carbon_main(): int {
    let cmd_line_args_buf = [1][]pure uint8{ "" }

    let cmdline = nullcast(GetCommandLineA())

    // TODO: lengthof
    let args = [][]pure uint8{ &cmd_line_args_buf[0], 1 }
    args[0] = []pure uint8{ nullcast(cast(*uint8)(cast(rawptr)(cmdline))), cmdline->length() }

    import main
    return main(args)
}

}